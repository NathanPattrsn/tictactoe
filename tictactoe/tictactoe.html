<!DOCTYPE html>
<html>
<head>
  <title>Tic-Tac-Toe</title>
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.51.0/dist/phaser-arcade-physics.min.js"></script>
</head>
<body>
    <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #333;
    }
  </style>
  <script>
    // Set up the game configuration
    var config = {
      type: Phaser.AUTO,
      width: 800,
      height: 800,
      scene: {
        preload: preload,
        create: create
      }
    };

    // Create the game object
    var game = new Phaser.Game(config);

    // Declare game variables
    let board;
    let turn = 'X';
    let gameOver = false;

    // Preload assets
    function preload() {
      this.load.setBaseURL('');
      this.load.image('X', 'assets/X.png');
      this.load.image('O', 'assets/O.png');
      this.load.image('board', 'assets/board.png');
    }

    // Set up the game board and add event listeners to the squares
    function create() {
      // Create the board sprite
      this.add.sprite(400, 400, 'board');

      // Set up the squares
      var squareSize = 200;
      var squares = [
        [1, 1],
        [2, 1],
        [3, 1],
        [1, 2],
        [2, 2],
        [3, 2],
        [1, 3],
        [2, 3],
        [3, 3],
      ];
      



      // Add event listeners to the squares
      square.forEach(([x, y]) => {
        var square = this.add.sprite(x * squareSize, y * squareSize, 'board');
        square.setInteractive();
        square.on('pointerdown', () => {
          if (!gameOver && !square.texture.key) {
            // Place the player's symbol on the square
            square.setTexture(turn);
           
            // Check if the player has won
            if (checkVictory(square.x, square.y)) {
              // If the player has won, announce their victory
              gameOver = true;
              this.add.text(300, 300, `${turn} wins!`, { fontSize: '64px' }).setOrigin(0.5);
            } 
              else if (checkTie()) {
              // If there is a tie, announce the tie
              gameOver = true;
              this.add.text(300, 300, 'Tie!', { fontSize: '64px' }).setOrigin(0.5);
            } else {
              // If the game is not over, switch turns
              turn = turn === 'X' ? 'O' : 'X';
            }
          }
        })
      })
    }
  </script>
  </body>
</html>
